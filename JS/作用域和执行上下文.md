#### 作用域

JS作用域是词法作用域，是由函数声明时所在的位置决定的。

作用域定义了在当前上下文访问不到变量的时候如果沿着作用域链继续查询变量的一套规则



#### 执行上下文

执行上下文是指 **函数调用时** 在执行栈中产生的当前函数（或全局对象window）的执行环境，这个环境就像一个隔绝外面世界的容器结界，里面存放着可以访问的变量、`this`对象等。



#### 函数的执行过程

分为两个阶段：创建执行上下文阶段+代码执行阶段

##### 创建执行上下文阶段(发生在函数被调用时和函数内的代码执行前)

![img](https://user-gold-cdn.xitu.io/2019/8/16/16c99c432b75f0de?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

1.创建变量对象：创建arguments对象，初始化函数参数变量，检查当前上下文环境中的function函数声明，检查当前上下文环境中的变量声明。

2.建立作用域链，确定在当前上下文环境中寻找变量的规则

3.确定this对象的指向

##### 代码执行阶段

4.执行函数体内的代码，完成变量赋值，函数引用，以及执行其他代码

